<?xml version="1.0" encoding="utf-8"?>

<configuration>
    <system.webServer>
        <rewrite>
        <rules>
                <rule name="Angular Routes" stopProcessing="true">
                  <match url=".*" />
                  <conditions logicalGrouping="MatchAll">
                    <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
                    <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />
                  </conditions>
                  <action type="Rewrite" url="/index.html" />
                </rule>
              </rules>
        </rewrite>
        <httpProtocol>
            <customHeaders>
                <add name="Cache-Control" value="no-cache, no-store, must-revalidate"/>
                <add name="Pragma" value="no-cache"/>
                <add name="Expires" value="0"/>
                <add name="Strict-Transport-Security" value="max-age=31536000; includeSubDomains"/>
                <add name="X-Content-Type-Options" value="nosniff"/>
                <add name="X-Xss-Protection" value="1; mode=block"/>
                <!--<add name="Cross-Origin-Embedder-Policy" value="require-corp" />-->
                <add name="X-Permitted-Cross-Domain-Policies" value="none"/>
                <add name="X-Frame-Options" value="SAMEORIGIN"/>
                <add name="Cross-Origin-Resource-Policy" value="same-origin"/>
                <add name="Content-Security-Policy"
                     value="default-src https: gap: ws: wss: data:; img-src 'self' data: https:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval';"/>
                <add name="Referrer-Policy" value="no-referrer-when-downgrade"/>
                <add name="Feature-Policy"
                     value="geolocation 'none';midi 'none';notifications 'none';push 'none';sync-xhr 'none';microphone 'none';camera 'none';magnetometer 'none';gyroscope 'none';speaker 'self';vibrate 'none';fullscreen 'self';payment 'none'; frame-src youtube.com https://www.youtube.com;"/>
                <remove name="X-Powered-By"/>
                <remove name="X-AspNet-Version"/>
                <remove name="X-AspNetMvc-Version"/>
                <remove name="Server"/>
            </customHeaders>
        </httpProtocol>
    </system.webServer>
</configuration>
